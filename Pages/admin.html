<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Travel Destination Guide - Admin</title>
    <link rel="stylesheet" href="../Styles/admin.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Sora:wght@400;600;700&family=Jost:wght@400;500&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- Admin Authentication Check -->
    <script>
      async function checkAdminAuth() {
        try {
          const res = await fetch('../Backend/checkAdminAuth.php');
          const data = await res.json();
          if (!data.loggedIn) {
            window.location.href = '../Pages/adminLogin.html';
          }
        } catch (err) {
          console.error('Auth check error:', err);
          window.location.href = '../Pages/adminLogin.html';
        }
      }
      checkAdminAuth();
    </script>

    <!-- Navigation Radio Buttons -->
    <input type="radio" name="main-nav" id="nav-home" checked />
    <input type="radio" name="main-nav" id="nav-destinations" />
    <input type="radio" name="main-nav" id="nav-users" />
    <input type="radio" name="main-nav" id="nav-profile" />
    <input type="radio" name="main-nav" id="nav-reviews" />

    <!-- Destinations sub nav -->
    <input type="radio" name="dest-nav" id="dest-continents" checked />
    <input type="radio" name="dest-nav" id="dest-countries" />

    <!-- Top Navigation -->
    <header class="navbar" id="site-navbar">
      <div class="navbar-inner">
        <div class="nav-left">
                    <div class="nav-logo">
          <img src="../Assets/Misc/logo.png" alt="Travel Logo" />
        </div>
          <label for="nav-home">Home</label>
          <label for="nav-destinations">Destinations</label>
        </div>

        <div class="nav-right">
          <label for="nav-users">Accounts</label>
          <label for="nav-reviews">Reviews</label>
          <label for="nav-profile">User</label>
          <button type="button" class="logout-button" onclick="handleLogout()">
            Logout
          </button>
        </div>
      </div>
    </header>

    <main class="content">
      <div id="content-area">
        <!-- HOME -->
        <div id="home-content" class="content-section section-card">
          <div class="welcome-note section-inner">
            <h1>Welcome, Admin!</h1>
            <p>Dear Admin,</p>
            <p>
              Welcome to the administrative portal for Travel Destination Guide.
              This portal is designed to provide you with the tools and
              resources necessary to effectively manage and enhance our travel
              content.
            </p>
            <div class="dashboard-boxes">
              <div class="dashboard-box section-inner">
                <h3>No. of Countries</h3>
                <p id="dashboard-country-count">0</p>
              </div>
              <div class="dashboard-box section-inner">
                <h3>No. of Tourist Spots</h3>
                <p id="dashboard-spot-count">0</p>
              </div>
            </div>

            <div class="graphs-container">
              <div class="graph-box section-inner">
                <h3>Top 5 Destinations Leaderboard</h3>
                <div class="leaderboard" id="top-destinations-list"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- USERS -->
        <div id="users-content" class="content-section section-card">
          <h2>User Management</h2>
          <div class="welcome-note section-inner">
            <p>
              This is the User Management area. Here, you can view user
              accounts, manage them by editing or deleting users, and see
              detailed user information.
            </p>
            <div id="accounts-table-view">
              <table class="users-table">
                <thead>
                  <tr>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Age</th>
                    <th>Gender</th>
                    <th>Contact</th>
                    <th class="th-actions">Actions</th>
                  </tr>
                </thead>
                <tbody id="users-table-body"></tbody>
              </table>
            </div>

            <div id="user-form-view" class="form-wrapper" style="display: none">
              <h3 id="user-form-title">Add New User</h3>
              <form id="user-form" onsubmit="saveUser(event)">
                <input type="hidden" id="user-index" value="" />
                <div class="form-row">
                  <div class="form-group">
                    <label for="user-firstName">First Name</label>
                    <input
                      type="text"
                      id="user-firstName"
                      placeholder="Enter first name"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label for="user-middleName">Middle Name</label>
                    <input
                      type="text"
                      id="user-middleName"
                      placeholder="Enter middle name"
                    />
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label for="user-lastName">Last Name</label>
                    <input
                      type="text"
                      id="user-lastName"
                      placeholder="Enter last name"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label for="user-gender">Gender</label>
                    <select id="user-gender" required>
                      <option value="">Select gender</option>
                      <option value="male">Male</option>
                      <option value="female">Female</option>
                      <option value="nonbinary">Non-binary</option>
                      <option value="preferNotToSay">Prefer Not to Say</option>
                    </select>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label for="user-birthdate">Birthdate</label>
                    <input
                      type="date"
                      id="user-birthdate"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label for="user-email">Email</label>
                    <input
                      type="email"
                      id="user-email"
                      placeholder="Enter email"
                      required
                    />
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label for="user-age">Age</label>
                    <input type="number" id="user-age" placeholder="Age" min="0" />
                  </div>
                  <div class="form-group">
                    <label for="user-contactNum">Contact</label>
                    <input type="tel" id="user-contactNum" placeholder="Contact number" />
                  </div>
                </div>
                    />
                  </div>
                </div>
                <div class="form-actions">
                  <button type="submit" class="save-button">Save</button>
                  <button
                    type="button"
                    class="back-button"
                    onclick="backToAccountsTable()"
                  >
                    Back
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- REVIEWS -->
        <div id="reviews-content" class="content-section section-card">
          <h2>Customer Reviews</h2>
          <div class="welcome-note section-inner">
            <p>
              Review and approve customer comments before they appear publicly
              to avoid spam and harmful content.
            </p>
            <div class="reviews-container section-inner">
              <div class="reviews-columns">
                <section class="reviews-column reviews-column-pending">
                  <h3>Pending Reviews</h3>
                  <p class="reviews-hint">
                    These reviews are waiting for your approval.
                  </p>
                  <div class="reviews-list-wrapper">
                    <div class="reviews-list" id="pending-reviews-list"></div>
                  </div>
                  <div class="reviews-pagination-footer reviews-arrows-center">
                    <button
                      type="button"
                      class="back-button reviews-arrow-btn"
                      id="pending-prev-btn"
                    >
                      &lt;
                    </button>
                    <span class="reviews-dots" id="pending-dots">···</span>
                    <button
                      type="button"
                      class="back-button reviews-arrow-btn"
                      id="pending-next-btn"
                    >
                      &gt;
                    </button>
                  </div>
                </section>

                <section class="reviews-column reviews-column-approved">
                  <h3>Published Reviews</h3>
                  <p class="reviews-hint">
                    These reviews are visible to users on the live site.
                  </p>
                  <div class="reviews-list-wrapper">
                    <div class="reviews-list" id="reviews-list"></div>
                  </div>
                  <div class="reviews-pagination-footer reviews-arrows-center">
                    <button
                      type="button"
                      class="back-button reviews-arrow-btn"
                      id="approved-prev-btn"
                    >
                      &lt;
                    </button>
                    <span class="reviews-dots" id="approved-dots">···</span>
                    <button
                      type="button"
                      class="back-button reviews-arrow-btn"
                      id="approved-next-btn"
                    >
                      &gt;
                    </button>
                  </div>
                </section>
              </div>

              <div class="reviews-summary">
                <h3>Overall Ratings Summary</h3>
                <div class="rating-display">
                  <div class="stars" id="summary-stars"></div>
                  <div class="rating-text" id="rating-average-text">
                    4.7 out of 5
                  </div>
                  <div class="rating-count" id="rating-count-text">
                    40 total customer ratings
                  </div>
                </div>
                <div class="rating-breakdown">
                  <div class="rating-row">
                    <span class="star-label">5 Star</span>
                    <div class="rating-bar-container">
                      <div class="rating-bar" id="rating-bar-5"></div>
                    </div>
                    <span class="rating-percent" id="rating-percent-5">0%</span>
                  </div>
                  <div class="rating-row">
                    <span class="star-label">4 Star</span>
                    <div class="rating-bar-container">
                      <div class="rating-bar" id="rating-bar-4"></div>
                    </div>
                    <span class="rating-percent" id="rating-percent-4">0%</span>
                  </div>
                  <div class="rating-row">
                    <span class="star-label">3 Star</span>
                    <div class="rating-bar-container">
                      <div class="rating-bar" id="rating-bar-3"></div>
                    </div>
                    <span class="rating-percent" id="rating-percent-3">0%</span>
                  </div>
                  <div class="rating-row">
                    <span class="star-label">2 Star</span>
                    <div class="rating-bar-container">
                      <div class="rating-bar" id="rating-bar-2"></div>
                    </div>
                    <span class="rating-percent" id="rating-percent-2">0%</span>
                  </div>
                  <div class="rating-row">
                    <span class="star-label">1 Star</span>
                    <div class="rating-bar-container">
                      <div class="rating-bar" id="rating-bar-1"></div>
                    </div>
                    <span class="rating-percent" id="rating-percent-1">0%</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- PROFILE -->
        <div id="profile-content" class="content-section section-card">
          <h2>Admin Profile</h2>
          <div class="welcome-note section-inner">
            <p>
              This is the Admin Profile section. As the admin user, you can
              customize and edit your profile here.
            </p>
            <div class="profile-container section-inner">
              <div class="profile-picture-section">
                <div class="profile-avatar">
                  <img
                    id="profile-avatar-img"
                    src="../Assets/Misc/Avatar2.jpg"
                    alt="Admin Avatar"
                  />
                </div>
                <input
                  type="file"
                  id="avatar-input"
                  accept="image/*"
                  style="display: none"
                  onchange="changeAvatar(event)"
                />
                <button
                  type="button"
                  class="add-button"
                  onclick="document.getElementById('avatar-input').click()"
                >
                  Change Avatar
                </button>
              </div>
              <div class="profile-form-section">
                <form
                  class="profile-form"
                  id="profile-form"
                  onsubmit="saveProfile(event)"
                >
                  <div class="form-row">
                    <div class="form-group">
                      <label for="admin-name">Name</label>
                      <input
                        type="text"
                        id="admin-name"
                        placeholder="Enter your name"
                      />
                    </div>
                    <div class="form-group">
                      <label for="admin-birthdate">Birthdate</label>
                      <input
                        type="date"
                        id="admin-birthdate"
                        placeholder="Select your birthdate"
                      />
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="admin-email">Email</label>
                      <input
                        type="email"
                        id="admin-email"
                        placeholder="Enter your email"
                      />
                    </div>
                    <div class="form-group">
                      <label for="admin-gender">Gender</label>
                      <select id="admin-gender">
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="non-binary">Non-binary</option>
                        <option value="prefer-not">Prefer not to say</option>
                      </select>
                    </div>
                  </div>
                  <div class="form-actions">
                    <button type="submit" class="save-button">
                      Save Changes
                    </button>
                  </div>
                </form>

                <div class="security-section">
                  <h3>Security Settings</h3>
                  <form
                    class="security-form"
                    id="security-form"
                    onsubmit="updatePassword(event)"
                  >
                    <div class="form-row">
                      <div class="form-group">
                        <label for="current-password">Current Password</label>
                        <input
                          type="password"
                          id="current-password"
                          placeholder="Enter current password"
                        />
                      </div>
                      <div class="form-group">
                        <label for="new-password">New Password</label>
                        <input
                          type="password"
                          id="new-password"
                          placeholder="Enter new password"
                        />
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group full-width">
                        <label for="confirm-password"
                          >Confirm New Password</label
                        >
                        <input
                          type="password"
                          id="confirm-password"
                          placeholder="Confirm new password"
                        />
                      </div>
                    </div>
                    <div class="form-actions">
                      <button type="submit" class="save-button">
                        Update Password
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- DESTINATIONS -->
        <div id="destinations-content" class="content-section section-card">
          <div class="destinations-title-wrapper">
            <h1 class="destinations-title">DESTINATIONS</h1>
          </div>

          <div class="destinations-wrapper section-inner">
            <!-- Two main tabs -->
            <nav class="dest-tabs">
              <label for="dest-continents" class="dest-tab dest-tab-continents"
                >CONTINENTS</label
              >
              <label for="dest-countries" class="dest-tab dest-tab-countries"
                >COUNTRIES</label
              >
            </nav>

            <!-- CONTINENTS TAB -->
            <section
              id="continents-content"
              class="destination-section dest-section-continents"
            >
              <div id="continents-main" class="dest-card">
                <p class="instruction">
                  Choose a continent below to view and manage its countries.
                </p>
                <div class="continents-grid">
                  <button
                    type="button"
                    class="continent-box"
                    data-continent="Africa"
                    onclick="selectContinent('Africa', 2)"
                  >
                    <div class="continent-thumb africa"></div>
                    <span class="continent-name-label">AFRICA</span>
                  </button>
                  <button
                    type="button"
                    class="continent-box"
                    data-continent="Asia"
                    onclick="selectContinent('Asia', 1)"
                  >
                    <div class="continent-thumb asia"></div>
                    <span class="continent-name-label">ASIA</span>
                  </button>
                  <button
                    type="button"
                    class="continent-box"
                    data-continent="Australia"
                    onclick="selectContinent('Australia', 5)"
                  >
                    <div class="continent-thumb australia"></div>
                    <span class="continent-name-label">AUSTRALIA</span>
                  </button>
                  <button
                    type="button"
                    class="continent-box"
                    data-continent="Europe"
                    onclick="selectContinent('Europe', 6)"
                  >
                    <div class="continent-thumb europe"></div>
                    <span class="continent-name-label">EUROPE</span>
                  </button>
                  <button
                    type="button"
                    class="continent-box"
                    data-continent="North America"
                    onclick="selectContinent('North America', 3)"
                  >
                    <div class="continent-thumb north-america"></div>
                    <span class="continent-name-label">NORTH AMERICA</span>
                  </button>
                  <button
                    type="button"
                    class="continent-box"
                    data-continent="South America"
                    onclick="selectContinent('South America', 4)"
                  >
                    <div class="continent-thumb south-america"></div>
                    <span class="continent-name-label">SOUTH AMERICA</span>
                  </button>
                </div>
              </div>

              <!-- Countries table for selected continent -->
              <div
                id="continent-table-wrapper"
                class="panel dest-card continent-table-card"
                style="display: none"
              >
                <div class="continent-header-row continent-header-row-top">
                  <button
                    type="button"
                    class="back-button"
                    onclick="clearContinentSelection()"
                  >
                    ⇠ Back to continents
                  </button>
                </div>
                <div class="continent-header-row">
                  <h3 id="continent-table-title">Countries in Continent</h3>
                </div>

                <table>
                  <thead>
                    <tr>
                      <th>Country</th>
                      <th class="th-photo">Photos</th>
                      <th class="th-actions">Actions</th>
                    </tr>
                  </thead>
                  <tbody id="continent-table-body"></tbody>
                </table>

                <div class="table-actions table-actions-full">
                  <button
                    type="button"
                    id="addCountryButton"
                    onclick="openContinentCountryForm()"
                    class="add-button"
                  >
                    Add Country
                  </button>
                </div>
              </div>

              <!-- Add / edit country form -->
              <div
                id="continent-country-form-wrapper"
                class="form-wrapper"
                style="display: none"
              >
                <h3 id="continent-country-form-title">Add Country</h3>
                <form id="continent-country-form" method="post">
                  <input
                    type="hidden"
                    id="continent-country-index"
                    name="country_id"
                  />
                  <input type="hidden" id="continent-id" name="continent_id" />

                  <div class="form-row">
                    <div class="form-group">
                      <label for="continent-country-name">Country Name</label>
                      <input
                        type="text"
                        id="continent-country-name"
                        name="country_name"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label for="continent-country-photo">Country Photo</label>
                      <input
                        type="file"
                        id="continent-country-photo"
                        name="image"
                        accept="image/*"
                      />
                    </div>
                  </div>
                  <div class="form-actions">
                    <button type="submit" class="save-button">Save</button>
                    <button
                      type="button"
                      class="back-button"
                      onclick="cancelContinentCountryForm()"
                    >
                      Cancel
                    </button>
                  </div>
                </form>
              </div>
            </section>

            <!-- COUNTRIES TAB -->
            <section
              id="countries-content"
              class="destination-section dest-section-countries"
            >
              <!-- STEP 1 continent choices -->
              <div id="countries-continent-step" class="dest-card">
                <p class="instruction">
                  Choose a continent to manage its countries, cities, and travel
                  details.
                </p>
                <div class="country-continents-list">
                  <button
                    type="button"
                    class="country-continent-item africa"
                    title="Africa"
                    onclick="openCountriesForContinent('Africa', 2)"
                  >
                    <span class="country-continent-label">AFRICA</span>
                  </button>
                  <button
                    type="button"
                    class="country-continent-item asia"
                    title="Asia"
                    onclick="openCountriesForContinent('Asia', 1)"
                  >
                    <span class="country-continent-label">ASIA</span>
                  </button>
                  <button
                    type="button"
                    class="country-continent-item australia"
                    title="Australia"
                    onclick="openCountriesForContinent('Australia')"
                  >
                    <span class="country-continent-label">AUSTRALIA</span>
                  </button>
                  <button
                    type="button"
                    class="country-continent-item europe"
                    title="Europe"
                    onclick="openCountriesForContinent('Europe')"
                  >
                    <span class="country-continent-label">EUROPE</span>
                  </button>
                  <button
                    type="button"
                    class="country-continent-item north-america"
                    title="North America"
                    onclick="openCountriesForContinent('North America')"
                  >
                    <span class="country-continent-label">NORTH AMERICA</span>
                  </button>
                  <button
                    type="button"
                    class="country-continent-item south-america"
                    title="South America"
                    onclick="openCountriesForContinent('South America')"
                  >
                    <span class="country-continent-label">SOUTH AMERICA</span>
                  </button>
                </div>
              </div>

              <!-- STEP 2 welcome note + country details -->
              <div
                id="countries-detail-step"
                class="dest-card countries-detail-card"
                style="display: none"
              >
                <div class="countries-welcome">
                  <p class="countries-welcome-top">Welcome to</p>
                  <p class="countries-welcome-main" id="countries-welcome-main">
                    AFRICA
                  </p>
                  <p class="countries-welcome-bottom">
                    Select a Country to manage its cities, tourist spots,
                    delicacies, and activities.
                  </p>
                </div>

                <div id="countries-detail-body"></div>

                <!-- Back to continents bottom-left -->
                <button
                  type="button"
                  class="back-button"
                  onclick="backToCountryContinents()"
                >
                  ⇠ Back to continents
                </button>
              </div>

              <!-- CITY FORM -->
              <div
                id="city-form-wrapper"
                class="form-wrapper"
                style="display: none"
              >
                <h3 id="city-form-title">Add City</h3>
                <form id="city-form" method="post">
                  <input type="hidden" id="city-country-key" />
                  <input type="hidden" id="city-country-id" name="country_id" />
                  <input type="hidden" id="city-index" name="city_id" />

                  <div class="form-row">
                    <div class="form-group full-width">
                      <label for="city-name-input">City Name</label>
                      <input
                        type="text"
                        id="city-name-input"
                        placeholder="Enter city name"
                        name="name"
                        required
                      />
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="form-group full-width">
                      <label for="city-description-input"
                        >City Description</label
                      >
                      <textarea
                        id="city-description-input"
                        class="textarea-soft"
                        rows="4"
                        placeholder="Add a short description about this city (highlights, vibe, must‑see areas)"
                        name="description"
                      ></textarea>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="form-group full-width">
                      <label for="city-photo-input">City Photo</label>
                      <input
                        type="file"
                        id="city-photo-input"
                        name="images[]"
                        multiple
                      />
                    </div>
                  </div>
                  <div class="form-actions">
                    <button type="submit" class="save-button">Save</button>
                    <button
                      type="button"
                      class="back-button"
                      onclick="cancelCityForm()"
                    >
                      Cancel
                    </button>
                  </div>
                </form>
              </div>

              <!-- ITEM FORM / tourist spot -->
              <div
                id="spot-form-wrapper"
                class="form-wrapper"
                style="display: none"
              >
                <h3 id="item-form-title">Add Tourist Spot</h3>
                <form id="item-form" method="post">
                  <input type="hidden" id="item-country-key" />
                  <input type="hidden" id="item-city-index" />
                  <input type="hidden" id="item-section-type" />
                  <input type="hidden" id="item-index" />
                  <input type="hidden" name="city_id" id="item-city-id" />
                  <!-- city id-->
                  <input type="hidden" name="spot_id" id="item-spot-id" />
                  <!-- spot id -->

                  <div class="form-row">
                    <div class="form-group">
                      <label for="item-name-input">Name</label>
                      <input
                        type="text"
                        name="name"
                        id="item-name-input"
                        placeholder="Enter name"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label for="item-photo-input">Photo</label>
                      <input
                        type="file"
                        name="image"
                        id="item-photo-input"
                        accept="image/*"
                      />
                    </div>
                  </div>

                  <div class="form-row" id="item-extra-row-1">
                    <div
                      class="form-group full-width"
                      id="item-extra-1-wrapper"
                    >
                      <label for="item-extra-1" id="item-extra-1-label"
                        >Details</label
                      >
                      <textarea
                        id="item-extra-1"
                        name="history"
                        class="textarea-soft"
                        rows="3"
                        placeholder=""
                      ></textarea>
                    </div>
                  </div>

                  <div class="form-row" id="item-extra-row-2">
                    <div
                      class="form-group full-width"
                      id="item-extra-2-wrapper"
                    >
                      <label for="item-extra-2" id="item-extra-2-label"
                        >More Info</label
                      >
                      <textarea
                        id="item-extra-2"
                        name="details"
                        class="textarea-soft"
                        rows="3"
                        placeholder=""
                      ></textarea>
                    </div>
                  </div>

                  <div class="form-actions">
                    <button type="submit" class="save-button">Save</button>
                    <button
                      type="button"
                      class="back-button"
                      onclick="cancelItemForm()"
                    >
                      Cancel
                    </button>
                  </div>
                </form>
              </div>

              <!-- FOOD FORM -->
              <div
                id="food-form-wrapper"
                class="form-wrapper"
                style="display: none"
              >
                <h3 id="food-form-title">Add Delicacy</h3>

                <form id="food-form" method="post">
                  <input type="hidden" id="food-city-id" name="city_id" />
                  <input type="hidden" id="food-id" name="food_id" />
                  <!-- 0 means add -->

                  <div class="form-row">
                    <div class="form-group">
                      <label for="food-name-input">Name</label>
                      <input
                        type="text"
                        name="name"
                        id="food-name-input"
                        placeholder="Enter delicacy name"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label for="food-photo-input">Photo</label>
                      <input
                        type="file"
                        name="image"
                        id="food-photo-input"
                        accept="image/*"
                      />
                    </div>
                  </div>

                  <div class="form-row">
                    <div class="form-group full-width">
                      <label for="food-about-input">About</label>
                      <textarea
                        id="food-about-input"
                        name="about"
                        class="textarea-soft"
                        rows="3"
                        placeholder="Taste, ingredients, cultural meaning"
                      ></textarea>
                    </div>
                  </div>

                  <div class="form-row">
                    <div class="form-group full-width">
                      <label for="food-location-input">Location</label>
                      <textarea
                        id="food-location-input"
                        name="location"
                        class="textarea-soft"
                        rows="3"
                        placeholder="Where to find it"
                      ></textarea>
                    </div>
                  </div>

                  <div class="form-actions">
                    <button type="submit" class="save-button">Save</button>
                    <button
                      type="button"
                      class="back-button"
                      onclick="cancelFoodForm()"
                    >
                      Cancel
                    </button>
                  </div>
                </form>
              </div>

              <!-- ACTIVITY FORM -->
              <div
                id="activity-form-wrapper"
                class="form-wrapper"
                style="display: none"
              >
                <h3 id="activity-form-title">Add Activity</h3>

                <form id="activity-form" method="post">
                  <input type="hidden" id="activity-city-id" name="city_id" />
                  <input type="hidden" id="activity-id" name="activity_id" />
                  <!-- hidden for passing id to db, 0 means add -->

                  <div class="form-row">
                    <div class="form-group">
                      <label for="activity-name-input">Name</label>
                      <input
                        type="text"
                        id="activity-name-input"
                        placeholder="Enter activity name"
                        name="name"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label for="activity-photo-input">Photo</label>
                      <input
                        type="file"
                        id="activity-photo-input"
                        accept="image/*"
                        name="image"
                      />
                    </div>
                  </div>

                  <div class="form-row">
                    <div class="form-group full-width">
                      <label for="activity-schedule-input">Description</label>
                      <textarea
                        id="activity-schedule-input"
                        class="textarea-soft"
                        rows="3"
                        placeholder="What visitors can expect"
                        name="description"
                      ></textarea>
                    </div>
                  </div>

                  <div class="form-row">
                    <div class="form-group full-width">
                      <label for="activity-details-input">Location</label>
                      <textarea
                        id="activity-details-input"
                        class="textarea-soft"
                        rows="3"
                        placeholder="Exact location or meeting point"
                        name="location"
                      ></textarea>
                    </div>
                  </div>

                  <div class="form-actions">
                    <button type="submit" class="save-button">Save</button>
                    <button
                      type="button"
                      class="back-button"
                      onclick="cancelActivityForm()"
                    >
                      Cancel
                    </button>
                  </div>
                </form>
              </div>
            </section>
          </div>
        </div>
        <!-- END DESTINATIONS -->
      </div>
    </main>

    <div id="site-footer"></div>

    <!-- Scroll shrink navbar + DATA LOGIC -->
    <script>
      function handleLogout() {
        if (!confirm("Exit admin panel?")) return;
        fetch('../Backend/adminLogout.php')
          .then(() => {
            window.location.href = '../Pages/adminLogin.html';
          })
          .catch((err) => {
            console.error('Logout error:', err);
            window.location.href = '../Pages/adminLogin.html';
          });
      }

      const nav = document.getElementById("site-navbar");
      const shrinkAt = 80;
      let lastKnownScroll = 0;
      let ticking = false;

      function onScroll() {
        lastKnownScroll = window.scrollY;
        if (!ticking) {
          window.requestAnimationFrame(() => {
            if (lastKnownScroll > shrinkAt) {
              nav.classList.add("shrink");
            } else {
              nav.classList.remove("shrink");
            }
            ticking = false;
          });
          ticking = true;
        }
      }

      window.addEventListener("scroll", onScroll, { passive: true });
    </script>

    <script src="../Scripts/admin.js?v=2"></script>
  </body>
</html>
